
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>Vue-入门-5 | Ispoon</title>
        <meta name="author" content="ispoon">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <link rel="icon" href="images/icon.jpg">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.1.1/js/all.min.js"></script>
        
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
    <meta name="generator" content="Hexo 6.2.0"></head>
    <body>

        <div id="L2dCanvas"></div>
        <script src="/js/live2d.min.js"></script>
        <script src="/css/live2d.css"></script>
        <script>
            var v = new Viewer({
                width: 240,
                height: 325,
                right: "0",
                bottom: "0",
                basePath: "/model",
                role: "dunkeerke_2",
                mobile: true,
            });
        </script>
        <canvas id="fireworks" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2147483647"></canvas>
        <script src="/js/fireworks.js"></script>
        <canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas><script src="/js/background.js"></script>
        <div id="cursor"></div>
        <script src="/css/cursor.css"></script>
        <script src="/js/cursor.js"></script>
        
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity 0.3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">加载过慢请开启缓存(浏览器默认开启)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="show_page" style="display: -not-none">
                    <div id="menu_show">
                         
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">ispoon</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;about</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;tags</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div>
        <div :class="'title'" @click="menu_show = !menu_show">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;ispoon</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        
<div class="article">
    <div>
        <h1>Vue-入门-5 </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/11
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#tags-solid"></use></svg>
            </span>
            
            <span class="tag">
                
                <a href="/tags/vue/" style="color: #00bcd4">
                    vue
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/web/" style="color: #ffa2c4">
                    web
                </a>
            </span>
            
        </span>
        
    </div>
    <div class="content" v-pre>
        <p>这部分主要介绍表单输入绑定以及生命周期</p>
<span id="more"></span>
<h1 id="表单输入绑定"><a href="#表单输入绑定" class="headerlink" title="表单输入绑定"></a>表单输入绑定</h1><p>在前端处理表单时，我们常常需要将表单输入框的内容同步给JavaScript中的相应的变量。手动连接值绑定和更改事件监听器可能比较麻烦：</p>
<pre><code class="template">&lt;input
  :value=&quot;text&quot;
  @input=&quot;event =&gt; text = event.target.value&quot;&gt;
</code></pre>
<p><code>v-model</code>指令帮助我们简化了这一步骤：</p>
<pre><code class="template">&lt;input v-model=&quot;text&quot;&gt;
</code></pre>
<p>另外，<code>v-model</code>还可以用于多种不同类型的输入，<code>&lt;textarea&gt;</code>、<code>&lt;select&gt;</code>元素。他会根据所使用的的元素自动使用对应的DOM属性和事件组合：<br>·文本类型的<code>&lt;input&gt;</code>和<code>&lt;textarea&gt;</code>元素会绑定<code>value</code>property并侦听<code>&lt;input&gt;</code>事件；<br>·<code>&lt;input type=&#39;checkbox&#39;&gt;</code>和<code>&lt;input type=&#39;radio&#39;&gt;会绑定</code>checked<code>property并侦听</code>change<code>事件； ·</code><select><code>会绑定</code>value<code>property并侦听</code>change&#96;&#96;&#96;事件；</select></p>
<h2 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h2><h3 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h3><pre><code class="template">&lt;p&gt;Message is: &#123;&#123; message &#125;&#125;&lt;/p&gt;
&lt;input v-model=&quot;message&quot; placeholder=&quot;edit me&quot; /&gt;
</code></pre>
<p>此时可以实现双向绑定的效果：<br><img src="/2022/09/11/vue-%E5%AD%A6%E4%B9%A0-5/1.png" alt="展示的效果"><br>当对应的文本框中的文本发生变化的时候：<br><img src="/2022/09/11/vue-%E5%AD%A6%E4%B9%A0-5/2.png" alt="双向绑定的效果"></p>
<h3 id="多行文本"><a href="#多行文本" class="headerlink" title="多行文本"></a>多行文本</h3><pre><code class="template">&lt;span&gt;Multiline message is:&lt;/span&gt;
&lt;p style=&quot;white-space: pre-line;&quot;&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;
&lt;textarea v-model=&quot;message&quot; placeholder=&quot;add multiple lines&quot;&gt;&lt;/textarea&gt;
</code></pre>
<p>对应多行文本亦可实现这种效果：</p>
<pre><code class="template">&lt;span&gt;Multiline message is:&lt;/span&gt;
&lt;p style=&quot;white-space: pre-line;&quot;&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt;
&lt;textarea v-model=&quot;message&quot; placeholder=&quot;add multiple lines&quot;&gt;&lt;/textarea&gt;
</code></pre>
<p><img src="/2022/09/11/vue-%E5%AD%A6%E4%B9%A0-5/3.png" alt="多行文本的展示效果"><br>注意在<code>&lt;textarea&gt;</code>中是不支持插值表达式的。请使用<code>v-model</code>来替代：</p>
<pre><code class="template">&lt;!-- 错误 --&gt;
&lt;textarea&gt;&#123;&#123; text &#125;&#125;&lt;/textarea&gt;

&lt;!-- 正确 --&gt;
&lt;textarea v-model=&quot;text&quot;&gt;&lt;/textarea&gt;
</code></pre>
<h3 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h3><p>单一的复选框，绑定布尔类型值：</p>
<pre><code class="template">&lt;input type=&quot;checkbox&quot; id=&quot;checkbox&quot; v-model=&quot;checked&quot; /&gt;
&lt;label for=&quot;checkbox&quot;&gt;&#123;&#123; checked &#125;&#125;&lt;/label&gt;
</code></pre>
<p>我们也可以将多个复选框绑定到同一个数组或集合的值：</p>
<pre><code class="js">const checkedNames = ref([])
</code></pre>
<pre><code class="template">&lt;div&gt;Checked names: &#123;&#123; checkedNames &#125;&#125;&lt;/div&gt;

&lt;input type=&quot;checkbox&quot; id=&quot;jack&quot; value=&quot;Jack&quot; v-model=&quot;checkedNames&quot;&gt;
&lt;label for=&quot;jack&quot;&gt;Jack&lt;/label&gt;

&lt;input type=&quot;checkbox&quot; id=&quot;john&quot; value=&quot;John&quot; v-model=&quot;checkedNames&quot;&gt;
&lt;label for=&quot;john&quot;&gt;John&lt;/label&gt;

&lt;input type=&quot;checkbox&quot; id=&quot;mike&quot; value=&quot;Mike&quot; v-model=&quot;checkedNames&quot;&gt;
&lt;label for=&quot;mike&quot;&gt;Mike&lt;/label&gt;
</code></pre>
<p>在这个例子中，<code>checkNames</code>数组将始终会包含所有被选中的框的值。</p>
<h3 id="单元按钮"><a href="#单元按钮" class="headerlink" title="单元按钮"></a>单元按钮</h3><pre><code class="template">&lt;div&gt;Picked: &#123;&#123; picked &#125;&#125;&lt;/div&gt;

&lt;input type=&quot;radio&quot; id=&quot;one&quot; value=&quot;One&quot; v-model=&quot;picked&quot; /&gt;
&lt;label for=&quot;one&quot;&gt;One&lt;/label&gt;

&lt;input type=&quot;radio&quot; id=&quot;two&quot; value=&quot;Two&quot; v-model=&quot;picked&quot; /&gt;
&lt;label for=&quot;two&quot;&gt;Two&lt;/label&gt;
</code></pre>
<h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>单个选择器的示例如下：</p>
<pre><code class="template">&lt;div&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;/div&gt;

&lt;select v-model=&quot;selected&quot;&gt;
  &lt;option disabled value=&quot;&quot;&gt;Please select one&lt;/option&gt;
  &lt;option&gt;A&lt;/option&gt;
  &lt;option&gt;B&lt;/option&gt;
  &lt;option&gt;C&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<p>多选（值绑定到一个数组）</p>
<pre><code class="template">&lt;div&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;/div&gt;

&lt;select v-model=&quot;selected&quot; multiple&gt;
  &lt;option&gt;A&lt;/option&gt;
  &lt;option&gt;B&lt;/option&gt;
  &lt;option&gt;C&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<p>选择气的选项可以使用<code>v-for</code>动态渲染：</p>
<pre><code class="js">const selected = ref(&#39;A&#39;)

const options = ref([
  &#123; text: &#39;One&#39;, value: &#39;A&#39; &#125;,
  &#123; text: &#39;Two&#39;, value: &#39;B&#39; &#125;,
  &#123; text: &#39;Three&#39;, value: &#39;C&#39; &#125;
])
</code></pre>
<pre><code class="template">&lt;select v-model=&quot;selected&quot;&gt;
  &lt;option v-for=&quot;option in options&quot; :value=&quot;option.value&quot;&gt;
    &#123;&#123; option.text &#125;&#125;
  &lt;/option&gt;
&lt;/select&gt;

&lt;div&gt;Selected: &#123;&#123; selected &#125;&#125;&lt;/div&gt;
</code></pre>
<h2 id="值绑定"><a href="#值绑定" class="headerlink" title="值绑定"></a>值绑定</h2><p>对于单选按钮，复选框和选择器选项，<code>v-model</code>绑定的值通常是静态的字符串（或是对复选框是布尔值）：</p>
<pre><code class="template">&lt;!-- `picked` 在被选择时是字符串 &quot;a&quot; --&gt;
&lt;input type=&quot;radio&quot; v-model=&quot;picked&quot; value=&quot;a&quot; /&gt;

&lt;!-- `toggle` 只会为 true 或 false --&gt;
&lt;input type=&quot;checkbox&quot; v-model=&quot;toggle&quot; /&gt;

&lt;!-- `selected` 在第一项被选中时为字符串 &quot;abc&quot; --&gt;
&lt;select v-model=&quot;selected&quot;&gt;
  &lt;option value=&quot;abc&quot;&gt;ABC&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<p>但有时我们希望该值绑定到当前组件实例上的动态数据。这可以通过使用<code>v-bind</code>来实现。此外，使用<code>v-bind</code>还是我们可以将选项值绑定为非字符串的数据类型。</p>
<h3 id="复选框-1"><a href="#复选框-1" class="headerlink" title="复选框"></a>复选框</h3><pre><code class="template">&lt;input
  type=&quot;checkbox&quot;
  v-model=&quot;toggle&quot;
  true-value=&quot;yes&quot;
  false-value=&quot;no&quot; /&gt;
</code></pre>
<p><code>true-value</code>和<code>false-value</code>是vue特有的attributes，仅仅支持和<code>v-model</code>配套使用。这里<code>toggle</code>属性的值会在选中时被设为<code>&#39;yes&#39;</code>，取消选择时设为<code>no</code>。你同样可以通过<code>v-bind</code>将其绑定为其他动态值。</p>
<pre><code>&lt;input
  type=&quot;checkbox&quot;
  v-model=&quot;toggle&quot;
  :true-value=&quot;dynamicTrueValue&quot;
  :false-value=&quot;dynamicFalseValue&quot; /&gt;
</code></pre>
<h3 id="单选按钮"><a href="#单选按钮" class="headerlink" title="单选按钮"></a>单选按钮</h3><pre><code class="template">&lt;input type=&quot;radio&quot; v-model=&quot;pick&quot; :value=&quot;first&quot; /&gt;
&lt;input type=&quot;radio&quot; v-model=&quot;pick&quot; :value=&quot;second&quot; /&gt;
</code></pre>
<p><code>pick</code>会在第一个按钮选中时被设为<code>first</code>，在第二个按钮被选中时设为<code>second</code>.</p>
<h3 id="选择器选项"><a href="#选择器选项" class="headerlink" title="选择器选项"></a>选择器选项</h3><pre><code class="template">&lt;select v-model=&quot;selected&quot;&gt;
  &lt;!-- 内联对象字面量 --&gt;
  &lt;option :value=&quot;&#123; number: 123 &#125;&quot;&gt;123&lt;/option&gt;
&lt;/select&gt;
</code></pre>
<p><code>v-model</code>同样也支持非字符串类型的值绑定!在上面的例子中，当某个选项被选中，<code>selected</code>会被设置为该对象的字面量值<code>&#123;number:123&#125;</code>。</p>
<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><h3 id="lazy"><a href="#lazy" class="headerlink" title=".lazy"></a><code>.lazy</code></h3><p>默认情况下，<code>v-model</code>会在每次<code>input</code>事件更新数据（IME拼字阶段的状态例外）。你可以添加<code>lazy</code>修饰符来改为在每次<code>change</code>事件后更新数据：</p>
<pre><code class="template">&lt;!-- 在 &quot;change&quot; 事件后同步更新而不是 &quot;input&quot; --&gt;
&lt;input v-model.lazy=&quot;msg&quot; /&gt;
</code></pre>
<h3 id="number"><a href="#number" class="headerlink" title=".number"></a><code>.number</code></h3><p>如果你想让用户输入的自动转化为数字，你可以在<code>v-model</code>后添加<code>.number</code>修饰符来管理输入：</p>
<pre><code class="template">&lt;input v-model.number=&quot;age&quot; /&gt;
</code></pre>
<p>如果该值无法被<code>parseFloat()</code> 处理，那么将会返回原始值。<br><code>number</code>修饰符会在输入框有<code>type=&#39;number&#39;</code>时自动启用。</p>
<h3 id="trim"><a href="#trim" class="headerlink" title=".trim"></a><code>.trim</code></h3><p>如果你想要的默认自动去除用户输入内容中两端的空格，你可以在<code>v-model</code>后添加<code>.trim</code>修饰符：</p>
<pre><code class="template">&lt;input v-model.trim=&quot;msg&quot; /&gt;
</code></pre>
<h2 id="组件上的v-model"><a href="#组件上的v-model" class="headerlink" title="组件上的v-model"></a>组件上的<code>v-model</code></h2><p>HTML的内置表单输入类型并不总是能够完成所有的需求。幸运的是，我们可以使用vue构建具有自定义行为的可复用输入组件，并且这些输入组件也支持<code>v-model</code>.</p>
<h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><p>每个vue组件实例在创建时都需要经历一系列的初始化步骤，比如设置好数据侦听，编译模板，挂载实例到DOM，以及在数据改变时更新DOM。在此过程中，他也会运行被称为声明周期的钩子的函数，让开发者有机会在特定的阶段运行自己的代码。</p>
<h2 id="注册周期钩子"><a href="#注册周期钩子" class="headerlink" title="注册周期钩子"></a>注册周期钩子</h2><p>举例来说,<code>onMount</code>钩子可以用在组件完成初级渲染并创建DOM节点后运行代码：</p>
<pre><code class="vue">&lt;script setup&gt;
import &#123; onMounted &#125; from &#39;vue&#39;

onMounted(() =&gt; &#123;
  console.log(`the component is now mounted.`)
&#125;)
&lt;/script&gt;
</code></pre>
<p>还有其他一些钩子，会在实例生命周期的不同阶段被调用，最常用的是<code>onMounted</code>、<code>onUpdated</code>和<code>onUnmounted</code>。<br>当调用<code>onMount</code>时，vue会自动将毁掉函数注册到当前正被初始化的组件实例上。这意味着这些钩子应当在组件初始化被同步注册。例如，请不要这样做：</p>
<pre><code class="js">setTimeout(() =&gt; &#123;
  onMounted(() =&gt; &#123;
    // 异步注册时当前组件实例已丢失
    // 这将不会正常工作
  &#125;)
&#125;, 100)
</code></pre>
<p>注意这并不意为对<code>onMount</code>的调用必须放在<code>setup()</code>或<code>&lt;script setup&gt;</code>内的词法上下文中。<code>onMounted()</code>也可以在一个外部函数中调用，只要调用栈是同步的，且最终起源自<code>&lt;setup&gt;</code>就可以。</p>
<h2 id="生命周期图示"><a href="#生命周期图示" class="headerlink" title="生命周期图示"></a>生命周期图示</h2><p>下面是实例生命周期中的图标。你现在并不需要完全理解图中的所以内容，但以后他将是一个有用的参考。<br><img src="/2022/09/11/vue-%E5%AD%A6%E4%B9%A0-5/4.png" alt="展示的效果"></p>

    </div>
    
</div>
                         
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 20xx - 2022 ispoon
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            @ispoon
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div>
        
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        

    </body>
</html>